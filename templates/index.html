{% extends "base.html" %}

{% block content %}
	<div class='col-sm-8 col-sm-offset-2'>
	<h1>{{ title }} template is working!!</h1>
		<form method="GET" action="" class="row">
		<div class='col-sm-6'>
            <div class='input-group'>
                <input class='form-control' type='text' name='q' placeholder='Search posts' value='{{ request.GET.q }}'/>
                <span class='input-group-btn'>
                    <!-- <input class='btn btn-default' type='submit' value='Search' /> -->
                    <button class='btn btn-default' type='submit'> <i class="fa fa-search"></i></button>
                </span>
            </div>
        </div>
	</form>
	<br>
	{% for obj in object_list %}
	<div class="row">
		<div class="col-sm-12">
		    <div class="thumbnail">
		    	{% if obj.image %}
		      	<img src={{obj.image.url}} class='img-responsive'/>
		      	{% endif %}
		      	<div class="caption">
		        	<h3>
		        		<a href='{{obj.get_absolute_url}}'>{{obj.title}}</a>
		        		<small>{%if obj.draft %}<span style="color:red">Draft</span>{%endif%}</small> 
		        		<small>{%if obj.publish > today %}<span style="color:green">Future Post</span>{%endif%}</small> 
		        		<small>{{obj.created_at|timesince}}</small> 
		        	</h3>
		        	<div class="col-sm-12 post-detail-item">
		        		<p>{{obj.get_html|truncatechars_html:120}}</p>
		        	</div>
		        	<small>
		        			{% if obj.user.get_full_name %}
							<p>Author: {{ obj.user.get_full_name }}</p>
							{% else %}
							<p>Author: {{ obj.user }}</p>
							{% endif %}
		        	</small>
		        	<p><a href="{{obj.get_absolute_url}}" class="btn btn-primary" role="button">View</a>
		      	</div>
		    </div>
	  	</div>
	</div>
	{% endfor %}

	<div class="pagination">
	    <span class="step-links">
	        {% if object_list.has_previous %}
	            <a href="?{{ page_request_var }}={{ object_list.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">previous</a>
	        {% endif %}

	        <span class="current">
	            Page {{ object_list.number }} of {{ object_list.paginator.num_pages }}.
	        </span>

	        {% if object_list.has_next %}
	            <a href="?{{ page_request_var }}={{ object_list.next_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">next</a>
	        {% endif %}
	    </span>
	</div>

	</div>
{% endblock %}

  
